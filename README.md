# Telegram cheat panel by Keaton
Хардкодед телеграм панель, возможно буду в будущем обновлять и дорабатывать, если не будет лень

## Функции:
- Генерация ключей
- Сброс хвида
- Блокировка ключа
- Готовая для использования API система (Максимально простая)

## Требования к работе

- VDS Linux / Windows с любыми характеристиками
- GoLang 1.17+ версии

## Установка
- Для редактирования всех файлов лучше всего подойдёт **GoLand от jetbrains**, но если получить его возможности нет, то Visual Code с установленным GoLang 
- Идём в папку **cmd/app** открываем **main.go** и прописываем **IP вашего сервера** (Если тестите на локале ничего не меняете) на **16** строке
- Идём в папку **internal/dbApi** открываем **database.go** и вводим данные от вашей базы данных. 
- В папке **pgk/config** открываем **config.go** и на **39** строчке прописываем Ваш **Telegram ID** (Через запятую можно ввести несколько TGID чтобы дать доступ к боту нескольким людям)
- В папке **internal/telegram** прописываем ваш токен бота на **116** строке, а так же настраиваем команды под вашу игру на **40 54 68** строках. 
- Открываем **Windows Console** и переходим в папку **cmd/app**. Пишем в консоль **go build -o ./server.exe** если вы компилируете под Windows или же **go build -o ./server** если компилируете под Linux
- Запускаем наш бинарник и наш бот работает. Пробуете генерировать ключ на вашу игру. По дефолту это: **/generate_key_GAME1 7** где **GAME1** вместо 1 кол-во дней **(30 7 1)**, а вместо 7 кол-во ключей

> При первом запуске сервера, **БД** автоматически заполнится нужными таблицами


## Документация API
**Важно**: Все запросы используют `POST` метод. 

| Метод | Postfields | Return |
| ------ | ------ | ------ |
| /auth | key=**key**&hwid=**hwid** | Статус авторизации или ошибку |
| /dll | key=**key**&hwid=**hwid** | DLL файл в виде string'a |
| /driver | key=**key**&hwid=**hwid** | SYS файл в виде string'a |
| /process | key=**key**&hwid=**hwid** | Название процесса игры |
| /ban | hwid=**hwid** | Success |

> Метод `/driver` использовать не обязательно
> Название процесса для метода `/process` надо указывать вручную в БД

## Все ответы от сервера при авторизации
| Ответ | Описание |
| ------ | ------ |
| Wrong data | Ключ или HWID состоят меньше чем из 5 символов|
| hwid banned | HWID был найден в чёрном списке |
| key banned | Ключ был заблокирован |
| Subscribe Expired | Подписка пользователя закончилась |
| Key not found | Был введён не верный ключ |
| Wrong HWID | HWID пользователя не совпадает |
| Authorized | Пользователь успешно авторизовался |
| Activated | Пользователь успешно активировал ключ |

## Доступные команды
| Команда | Описание |
| ------ | ------ |
| /reset_hwid [KEY] | Сбрасывает HWID пользователю |
| /ban_key [KEY]| Заблокировать ключ пользователя |
| /generate_key_GAME[DAYS] [AMOUNT]| Сгенерировать ключи для игры |
| /new_cheat [CHEAT_NAME]| Создать новый чит |
> При создании нового чита обязательно указать в БД название процесса игры для которой создаётся чит

## TODO:
- [ ] Сделать адекватную передачу DLL 

- [ ] Сделать адекватное общение с ботом через Keyboard 

- [ ] Добавить команду для добавления процесса игры без работы с БД напрямую

- [ ] Реализовать добавление администраторов через БД до конца